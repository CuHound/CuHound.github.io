<!DOCTYPE html>
<body>
<span id = "working">Something isn't working right...</span>
<button onclick = "plzhelp()" id = "helpButton">need help?</button><p id = "help" ></p>
<img height = 500px id = "artpiece" src = "http://i0.kym-cdn.com/photos/images/newsfeed/000/096/044/trollface.jpg?1296494117">
<br><button onclick = "reveal()"> Reveal </button>
<button onclick = "changePiece()"> Next </button>
<br>Enter your answers below (or just say them to yourself):
<br>Artist: <input id = "userA" type = script size = 33> <span id = "artist">Artist Answer</span>
<br>Title: <input id = "userT" type = script size = 33> <span id = "title">Title Answer</span>
<br>Region: <input id = "userR" type = script size = 30> <span id = "region">Region Answer</span>
<br>Period: <input id = "userP" type = script size = 31> <span id = "period">Period Answer</span>

<br><br>
<em>Do not distribute without creator's permission.<br>
Something wrong? Contact 1dustin2@mail.fresnostate.edu (through a Fresno State email)</em>
<br><br><br><br>
</body>
<script type = "text/javascript">
	function plzhelp(){
		/*document.getElementById("help").innerHTML =
		"<br>Help has arrived!<br>Look at the image and identify<br>the artist, title, period and region. Once you have decided<br>on your answers, click reveal and the four correct responses<br>will be shown. Then click next for another image. After<br>all images have been exhausted, they are shown again in a <br>different order.<br>";
		*/
		document.getElementById("help").innerHTML =
		"Look at the image and identify the artist, title, period and region. Once you have decided on your answers, click reveal and the four correct responses will be shown (your answers aren't checked, the input fields are just to test yourself). Then click next for another image. After all images have been exhausted, they are shown again in a different order.";
		document.getElementById("helpButton").innerHTML = "Hide Help";
		document.getElementById("helpButton").onclick = hideHelp;
	}
	function hideHelp(){
		document.getElementById("help").innerHTML = "";
		document.getElementById("helpButton").innerHTML = "Show Help";
		document.getElementById("helpButton").onclick = plzhelp;
	}
	document.getElementById("working").innerHTML = "Everything seems to be working :D";
	//var artpieces = httpGet("http://pastebin.com/raw/WkiHLLTn").split('\n');
	//var artpieces = httpGet("http://pastebin.com/raw/KjaYg7Ti").split('\n');
	//var artpieces = httpGet("http://pastebin.com/raw/ugm5tBpQ").split('\n');
	alert("working3");
	var artpieces = httpGet("http://pastebin.com/raw/uYiCQAJZ").split('\n');
	var URLs = [];
	var artists = [];
	var titles = [];
	var periods = [];
	var regions = [];
	
	for(var i = 0; i < artpieces.length; i = i + 5){
		URLs.push(artpieces[i + 0]);
		artists.push(artpieces[i + 1]);
		titles.push(artpieces[i + 2]);
		regions.push(artpieces[i + 3]);
		periods.push(artpieces[i + 4]);
	}
	var currentPiece = artists.length - 1;
	function reveal(){
		document.getElementById("artist").innerHTML = artists[currentPiece];
		document.getElementById("title").innerHTML = titles[currentPiece];
		document.getElementById("period").innerHTML = periods[currentPiece];
		document.getElementById("region").innerHTML = regions[currentPiece];
	}
	function changePiece(){
		document.getElementById("userA").value = "";
		document.getElementById("userT").value = "";
		document.getElementById("userR").value = "";
		document.getElementById("userP").value = "";
		currentPiece = (currentPiece + 1) % artists.length;
		document.getElementById("artist").innerHTML = "";
		document.getElementById("title").innerHTML = "";
		document.getElementById("period").innerHTML = "";
		document.getElementById("region").innerHTML = "";
		if (currentPiece == (0)){
			var offSet = 0;
			var temp = "";
			for(var i = 0; i < artists.length - 2; i++){
				offSet = randomInt(i,artists.length - 1);
				temp = URLs[i];
				URLs[i] = URLs[offSet];
				URLs[offSet] = temp;
				
				temp = artists[i];
				artists[i] = artists[offSet];
				artists[offSet] = temp;
				
				temp = titles[i];
				titles[i] = titles[offSet];
				titles[offSet] = temp;
				
				temp = periods[i];
				periods[i] = periods[offSet];
				periods[offSet] = temp;
				
				temp = regions[i];
				regions[i] = regions[offSet];
				regions[offSet] = temp;
			}
		}
		document.getElementById("artpiece").src = URLs[currentPiece];
	}
	changePiece();
	function httpGet(theUrl){
		var xmlHttp = new XMLHttpRequest();
		xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
		xmlHttp.send( null );
		return xmlHttp.responseText;
	}
	function randomInt(min, max) {
		min = Math.ceil(min);
		max = Math.floor(max);
		return Math.floor(Math.random() * (max - min + 1)) + min;
	}
	/*
	
	Troll face:
	http://i0.kym-cdn.com/photos/images/newsfeed/000/096/044/trollface.jpg?1296494117
	
	Anti-troll:
	https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/DoNotFeedTroll.svg/330px-DoNotFeedTroll.svg.png
	
	var images = ["https://upload.wikimedia.org/wikipedia/commons/e/eb/Maest_0_duccio_1308-11_siena_duomo.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/6/69/Hugo_van_der_Goes_004.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/a/ae/El_jard%C3%ADn_de_las_Delicias,_de_El_Bosco.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/b/be/Les_Tr%C3%A8s_Riches_Heures_du_duc_de_Berry_juillet.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/4/40/Giotto_-_Scrovegni_-_-36-_-_Lamentation_(The_Mourning_of_Christ).jpg",
	"https://klimtlover.files.wordpress.com/2012/12/arena-chapel.jpg",
	"https://upload.wikimedia.org/wikipedia/commons/e/ef/Robert_Campin_-_Triptych_with_the_Annunciation,_known_as_the_%22Merode_Altarpiece%22_-_Google_Art_Project.jpg"];
	*/
</script>
